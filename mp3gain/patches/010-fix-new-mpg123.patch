--- a/mp3gain.c
+++ b/mp3gain.c
@@ -2349,9 +2349,9 @@ int main(int argc, char **argv) {
 											/* We will check output format for each frame, as there is the */
 											/* case where mp3gain may think the channel count changed, but */
 											/* mpg123 does not (CVE-2017-14407). */
-											decodeSuccess = mpg123_decode_frame(mh, NULL, &decout, &decbytes);
+											decodeSuccess = mpg123_decode_frame64(mh, NULL, &decout, &decbytes);
 											if(decodeSuccess == MPG123_NEW_FORMAT)
-												decodeSuccess = mpg123_decode_frame(mh, NULL, &decout, &decbytes);
+												decodeSuccess = mpg123_decode_frame64(mh, NULL, &decout, &decbytes);
 											if(decodeSuccess == MPG123_OK) {
 												int enc = 0, channels = 0;
 												mpg123_getformat(mh, NULL, &channels, &enc);
